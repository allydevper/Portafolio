---
import "../../styles/global.css";
import ProjectForm from "../../components/ProjectForm";
import ProjectTable from "../../components/ProjectTable";
import { useState } from "react";

if (!Astro.locals.user) {
	return Astro.redirect("/login");
}

const [projects, setProjects] = useState([
	{
		name: "Proyecto Alfa",
		url: "https://alpha.ejemplo.com",
		technologies: "JavaScript, React, Node.js",
		description: "Breve descripciÃ³n del proyecto alfa.",
		creationDate: "2023-08-01",
	},
	{
		name: "Proyecto Beta",
		url: "https://beta.ejemplo.com",
		technologies: "Python, Django, SQL",
		description: "Otro proyecto, esta vez construido con Python.",
		creationDate: "2023-08-15",
	},
]);

const handSetProjects = () => {
	setProjects([...projects]);
};
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Proyects Dashboard</title>
	</head>
	<body
		class="bg-gradient-to-br from-gray-900 to-gray-800 dark:bg-gradient-to-br dark:from-gray-900 dark:to-gray-800 font-sans antialiased text-white h-screen"
	>
		<div class="mx-auto max-w-7xl px-4 py-10 sm:px-6 lg:px-2">
			<div class="text-center">
				<h2
					class="text-3xl font-bold text-white dark:text-white sm:text-4xl"
				>
					Gestor de <span class="text-pink-500 dark:text-pink-400"
						>Proyectos</span
					>
				</h2>
				<p class="mt-2 text-lg text-gray-400 dark:text-gray-400">
					Organiza los proyectos creados para mostrar en el
					portafolio.
				</p>
			</div>
			<div class="mt-12 grid grid-cols-1 gap-8 lg:grid-cols-3">
				<ProjectForm handSetProjects={handSetProjects} />
				<ProjectTable projects={projects} />
			</div>
		</div>
	</body>
</html>
